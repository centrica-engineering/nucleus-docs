---
import { border } from "./tokens";

const { type } = Astro.props;
---

<div class="ns-borders">
  <slot />
  {
    border && type && border[type] && (
      <div class={`ns-border-grid border-${type}`}>
      {
        border[type].map(([key, value], i) => {
          const style = `--ns-${type}: ${value};`;
          const labelValue = key.substring(key.lastIndexOf('_') + 1, key.length);
          return (
            <div class="ns-border-container">
              <label>{labelValue}</label>
              <div class={`${type}-box`} style={style}></div>
              <label>{value}</label>
              <label><code>{key}</code></label>
            </div>
          )
        })
      }
      </div>
    )
  }
</div>

<style>
  .ns-border-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    column-gap: 1rem;
    row-gap: 2rem;

    .ns-border-container {
      padding: 1rem !important;
    }
  }

  .ns-border-grid > :global(*) {
    margin-top: 0 !important;
  }

  .border-radius {
    .radius-box {
      height: 2.5rem;
      width: 2.5rem;
      border: 1px solid var(--sl-color-gray-5);
      border-radius: var(--ns-radius);
    }
  }

  .border-width {
    .width-box {
      height: 2.5rem;
      width: 2.5rem;
      border: var(--ns-width) solid var(--sl-color-gray-5);
    }
  }
</style>